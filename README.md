# ElevatorScheduling（电梯调度系统）

在等电梯的时候偶尔会想这个电梯调度应该是一个什么样的算法呢，于是打算写一个真实的框架，暴露接口给调度算法看看最后的效果。

第一种思路以状态机为核心，类似于一些小游戏的实现办法，维持一个worktask的队列，每个task触发的时候可以干活或者给taskqueue再塞一个task，这里就用一个线程进行运行。

基本逻辑是电梯standby的时候会去查询现在有什么要做的，然后如果要移动的话，加一个moveWorkTask，到了之后就开门，开门要通知layer，layer 要开始装人，然后开始一个个装人


在开发的时候发现自己犯了好多错误，首先DCI模型实现错误，workTask机制应该就是交互层，不应该让workTask之间相互依赖。

第二个就是开发的时候铺的太开了，没有时刻保持着一个可用的状态，要不是想持续维护，可能就重写或者放弃了这个项目。